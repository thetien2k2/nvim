version: 2
log-file: /home/tiennguyen/.cache/efm.log
log-level: 2
root-markers:
  - .git/
  - go.mod
  - go.work

tools:
  golangci-lint: &golangci-lint
    lint-command: "golangci-lint run --output.json.path stdout --show-stats false"
    lint-stdin: false
    lint-workspace: true
    lint-severity: 2
    lint-ignore-exit-code: true
    lint-source: "golangci"
  golangci-fmt: &golangci-fmt
    format-command: "golangci-lint fmt --stdin --color 'never'"
    format-stdin: true
  # staticcheck: &staticcheck
  #   lint-command: "staticcheck -checks all"
  #   lint-stdin: false
  #   lint-workspace: true
  #   lint-severity: 2
  #   lint-ignore-exit-code: true
  #   lint-source: "staticcheck"
  # gofumpt: &gofumpt
  #   format-command: "gofumpt"
  #   format-stdin: true
  # goimports: &goimports
  #   format-command: "goimports"
  #   format-stdin: true
  prettier: &prettier
    format-command: "prettier --stdin-filepath ${INPUT}"
    format-stdin: true
    root-markers:
      - .prettierrc
      - .prettierrc.json
      - .prettierrc.js
      - .prettierrc.yml
      - .prettierrc.yaml
      - .prettierrc.json5
      - .prettierrc.mjs
      - .prettierrc.cjs
      - .prettierrc.toml
      - prettier.config.js
      - prettier.config.cjs
      - prettier.config.mjs

languages:
  go:
    - <<: *golangci-lint
    - <<: *golangci-fmt
  gotmpl:
    - <<: *golangci-lint
    - <<: *golangci-fmt
  gomod:
    - <<: *golangci-fmt
  gowork:
    - <<: *golangci-fmt
  html:
    - <<: *prettier
  css:
    - <<: *prettier
  json:
    - <<: *prettier
  js:
    - <<: *prettier
  jsx:
    - <<: *prettier
  ts:
    - <<: *prettier
  markdown:
    - <<: *prettier
  yaml:
    - <<: *prettier
